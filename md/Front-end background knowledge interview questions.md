# 前端基础知识面试题及参考答案

## HTML

### 1. page rendering

一个页面从输入 URL 到页面加载显示完成，这个过程中都发生了什么？（流程说的越详细越好）

> 注：这题胜在区分度高，知识点覆盖广，再不懂的人，也能答出几句，而高手可以根据自己擅长的领域自由发挥，从URL规范. HTTP协议. DNS. CDN. 数据库查询. 到浏览器流式解析. CSS规则构建. layout. paint. onload/domready. JS执行. JS API绑定等等；

#### 详细版：

    1. 浏览器会开启一个线程来处理这个请求，对 URL 分析判断如果是 http 协议就按照 Web 方式来处理;
    2. 调用浏览器内核中的对应方法，比如 WebView 中的 loadUrl 方法;
    3. 通过DNS解析获取网址的IP地址，设置 UA 等信息发出第二个GET请求;
    4. 进行HTTP协议会话，客户端发送报头(请求报头);
    5. 进入到web服务器上的 Web Server，如 Apache. Tomcat. Node.JS 等服务器;
    6. 进入部署好的后端应用，如 PHP. Java. JavaScript. Python 等，找到对应的请求处理;
    7. 处理结束回馈报头，此处如果浏览器访问过，缓存上有对应资源，会与服务器最后修改时间对比，一致则返回304;
    8. 浏览器开始下载html文档(响应报头，状态码200)，同时使用缓存;
    9. 文档树建立，根据标记请求所需指定MIME类型的文件（比如css. js）,同时设置了cookie;
    10. 页面开始渲染DOM，JS根据DOM API操作DOM,执行事件绑定等，页面显示完成。

#### 简洁版：

    浏览器根据请求的URL交给DNS域名解析，找到真实IP，向服务器发起请求；
    服务器交给后台处理完成后返回数据，浏览器接收文件（HTML. JS. CSS. 图象等）；
    浏览器对加载到的资源（HTML. JS. CSS等）进行语法解析，建立相应的内部数据结构（如HTML的DOM）；
    载入解析到的资源文件，渲染页面，完成。

### 2. Local/session storage/cookie

    请描述一下 cookies，sessionStorage 和 localStorage 的区别？

    cookie是网站为了标示用户身份而储存在用户本地终端（Client Side）上的数据（通常经过加密）。
    cookie数据始终在同源的http请求中携带（即使不需要），记会在浏览器和服务器间来回传递。
    sessionStorage和localStorage不会自动把数据发给服务器，仅在本地保存。

    存储大小：
        cookie数据大小不能超过4k。
        sessionStorage和localStorage 虽然也有存储大小的限制，但比cookie大得多，可以达到5M或更大。
    有期时间：
        localStorage    存储持久数据，浏览器关闭后数据不丢失除非主动删除数据；
        sessionStorage  数据在当前浏览器窗口关闭后自动删除。
        cookie          设置的cookie过期时间之前一直有效，即使窗口或浏览器关闭

## CSS

### 3. 盒模型： 内容(content). 填充(padding). 边界(margin).  边框(border)；

### 4. CSS选择符有哪些？哪些属性可以继承？

    1. d选择器（ # myid）
    2. 类选择器（.myclassname）
    3. 标签选择器（div, h1, p）
    4. 相邻选择器（h1 + p）
    5. 子选择器（ul > li）
    6. 后代选择器（li a）
    7. 通配符选择器（ * ）
    8. 属性选择器（a[rel = "external"]）
    9. 伪类选择器（a:hover, li:nth-child）

* 可继承的样式： font-size font-family color, UL LI DL DD DT;
* 不可继承的样式：border padding margin width height ;

### 5. CSS优先级算法如何计算？

优先级就近原则，同权重情况下样式定义最近者为准; 载入样式以最后载入的定位为准;
优先级为:

    * 同权重: 内联样式表（标签内部）> 嵌入样式表（当前文件中）> 外部样式表（外部文件中）。
    * !important >  id > class > tag
    * important 比 内联优先级高

### 6. position 的值 relative 和 absolute 定位原点是？

    * absolute   生成绝对定位的元素，相对于值不为 static的第一个父元素进行定位。
    * fixed （老IE不支持） 生成绝对定位的元素，相对于浏览器窗口进行定位。
    * relative   生成相对定位的元素，相对于其正常位置进行定位。
    * static     默认值。没有定位，元素出现在正常的流中（忽略 top, bottom, left, right z-index 声明）。
    * inherit    规定从父元素继承 position 属性的值。

### 7. JavaScript 原型，原型链? 有什么特点？

    每个对象都会在其内部初始化一个属性，就是prototype(原型)，当我们访问一个对象的属性时，
    如果这个对象内部不存在这个属性，那么他就会去prototype里找这个属性，这个prototype又会有自己的prototype，

### 8. js的基本数据类型

    * 栈：原始数据类型（Undefined，Null，Boolean，Number. String）
    * 堆：引用数据类型（对象. 数组和函数）

两种类型的区别是：存储位置不同；

原始数据类型直接存储在栈(stack)中的简单数据段，占据空间小. 大小固定，属于被频繁使用数据，所以放入栈中存储；

引用数据类型存储在堆(heap)中的对象,占据空间大. 大小不固定。如果存储在栈中，将会影响程序运行的性能；引用数据类型在栈中存储了指针，该指针指向堆中该实体的起始地址。当解释器寻找引用值时，会首先检索其在栈中的地址，取得地址后从堆中获得实体

### 9. 什么是闭包（closure），为什么要用它？

闭包是指有权访问另一个函数作用域中变量的函数，创建闭包的最常见的方式就是在一个函数内创建另一个函数，通过另一个函数访问这个函数的局部变量,利用闭包可以突破作用链域，将函数内部的变量和方法传递到外部。

闭包的特性：

    1. 函数内再嵌套函数
    2. 内部函数可以引用外层的参数和变量
    3. 参数和变量不会被垃圾回收机制回收

### 10. JavaScript 代码中的 `"use strict";` 是什么意思？使用它区别是什么？

    use strict是一种ECMAscript 5 添加的（严格）运行模式,这种模式使得 Javascript 在更严格的条件下运行,
    使JS编码更加规范化的模式,消除Javascript语法的一些不合理. 不严谨之处，减少一些怪异行为。
    默认支持的糟糕特性都会被禁用，比如不能用with，也不能在意外的情况下给全局变量赋值;
    全局变量的显示声明,函数必须声明在顶层，不允许在非函数代码块内声明函数,arguments.callee也不允许使用；
    消除代码运行的一些不安全之处，保证代码运行的安全,限制函数中的arguments修改，严格模式下的eval函数的行为和非严格模式的也不相同;
    提高编译器效率，增加运行速度；
    为未来新版本的Javascript标准化做铺垫。

### 11. 那些操作会造成内存泄漏？

  内存泄漏指任何对象在您不再拥有或需要它之后仍然存在。
  垃圾回收器定期扫描对象，并计算引用了每个对象的其他对象的数量。如果一个对象的引用数量为 0（没有其他对象引用过该对象），或对该对象的惟一引用是循环的，那么该对象的内存即可回收。
  setTimeout 的第一个参数使用字符串而非函数的话，会引发内存泄漏。
  闭包. 控制台日志. 循环（在两个对象彼此引用且彼此保留时，就会产生一个循环）

### 12. 你有用过哪些前端性能优化的方法？

  （1） 减少http请求次数：CSS Sprites, JS. CSS源码压缩. 图片大小控制合适；网页Gzip，CDN托管，data缓存 ，图片服务器。
  （2） 前端模板 JS+数据，减少由于HTML标签导致的带宽浪费，前端用变量保存AJAX请求结果，每次操作本地变量，不用请求，减少请求次数
  （3） 用innerHTML代替DOM操作，减少DOM操作次数，优化javascript性能。
  （4） 当需要设置的样式很多时设置className而不是直接操作style。
  （5） 少用全局变量. 缓存DOM节点查找的结果。减少IO读取操作。
  （6） 避免使用CSS Expression（css表达式)又称Dynamic properties(动态属性)。
  （7） 图片预加载，将样式表放在顶部，将脚本放在底部  加上时间戳。
  （8） 避免在页面的主体布局中使用table，table要等其中的内容完全下载之后才会显示出来，显示比div+css布局慢。
  对普通的网站有一个统一的思路，就是尽量向前端优化. 减少数据库操作. 减少磁盘IO。向前端优化指的是，在不影响功能和体验的情况下，能在浏览器执行的不要在服务端执行，能在缓存服务器上直接返回的不要到应用服务器，程序能直接取得的结果不要到外部取得，本机内能取得的数据不要到远程取，内存能取到的不要到磁盘取，缓存中有的不要去数据库查询。减少数据库操作指减少更新次数. 缓存结果减少查询次数. 将数据库执行的操作尽可能的让你的程序完成（例如join查询），减少磁盘IO指尽量不使用文件系统作为缓存. 减少读写文件次数等。程序优化永远要优化慢的部分，换语言是无法“优化”的。

### Appendix

ECMAScript6
Promise
Arrow function

原来公司工作流程是怎么样的，如何与其他人协作的？如何跨部门合作的？
你遇到过比较难的技术问题是？你是如何解决的？
